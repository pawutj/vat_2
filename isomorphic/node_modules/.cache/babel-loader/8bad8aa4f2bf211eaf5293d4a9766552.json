{"ast":null,"code":"'use strict';\n\nvar _appendChild = require('yo-yoify/lib/appendChild'),\n    _onload = require('on-load');\n\nvar FileList = require('./FileList');\n\nvar Tabs = require('./Tabs');\n\nvar FileCard = require('./FileCard');\n\nvar UploadBtn = require('./UploadBtn');\n\nvar _require = require('../../core/Utils'),\n    isTouchDevice = _require.isTouchDevice,\n    toArray = _require.toArray;\n\nvar _require2 = require('./icons' // http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n),\n    closeIcon = _require2.closeIcon;\n\nmodule.exports = function Dashboard(props) {\n  var _uppyDashboardOverlay, _uppyDashboardClose, _uppyDashboardActions, _uppyDashboardFilesContainer, _uppyDashboardContentTitle, _uppyDashboardContentBack, _uppyDashboardContentBar, _uppyDashboardContentPanel, _uppyDashboardProgressindicators, _uppyDashboardInnerWrap, _uppyDashboardInner, _div;\n\n  function handleInputChange(ev) {\n    ev.preventDefault();\n    var files = toArray(ev.target.files);\n    files.forEach(function (file) {\n      props.addFile({\n        source: props.id,\n        name: file.name,\n        type: file.type,\n        data: file\n      });\n    });\n  } // @TODO Exprimental, work in progress\n  // no names, weird API, Chrome-only http://stackoverflow.com/a/22940020\n\n\n  function handlePaste(ev) {\n    ev.preventDefault();\n    var files = toArray(ev.clipboardData.items);\n    files.forEach(function (file) {\n      if (file.kind !== 'file') return;\n      var blob = file.getAsFile();\n      props.log('File pasted');\n      props.addFile({\n        source: props.id,\n        name: file.name,\n        type: file.type,\n        data: blob\n      });\n    });\n  }\n\n  return _div = document.createElement('div'), _onload(_div, function () {\n    return props.updateDashboardElWidth();\n  }, null, 1), _div.setAttribute('aria-hidden', '' + String(props.inline ? 'false' : props.modal.isHidden) + ''), _div.setAttribute('aria-label', '' + String(!props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle')) + ''), _div.setAttribute('role', 'dialog'), _div.onpaste = handlePaste, _div.setAttribute('class', 'Uppy UppyTheme--default UppyDashboard\\n                          ' + String(isTouchDevice() ? 'Uppy--isTouchDevice' : '') + '\\n                          ' + String(props.semiTransparent ? 'UppyDashboard--semiTransparent' : '') + '\\n                          ' + String(!props.inline ? 'UppyDashboard--modal' : '') + '\\n                          ' + String(props.isWide ? 'UppyDashboard--wide' : '') + ''), _appendChild(_div, [' ', (_uppyDashboardOverlay = document.createElement('div'), _uppyDashboardOverlay.onclick = function () {// props.hideModal\n  }, _uppyDashboardOverlay.setAttribute('class', 'UppyDashboard-overlay'), _uppyDashboardOverlay), ' ', (_uppyDashboardInner = document.createElement('div'), _uppyDashboardInner.setAttribute('tabindex', '0'), _uppyDashboardInner.setAttribute('style', '\\n          ' + String(props.inline && props.maxWidth ? 'max-width: ' + props.maxWidth + 'px;' : '') + '\\n          ' + String(props.inline && props.maxHeight ? 'max-height: ' + props.maxHeight + 'px;' : '') + '\\n         '), _uppyDashboardInner.setAttribute('class', 'UppyDashboard-inner'), _appendChild(_uppyDashboardInner, [' ', (_uppyDashboardClose = document.createElement('button'), _uppyDashboardClose.setAttribute('type', 'button'), _uppyDashboardClose.setAttribute('aria-label', '' + String(props.i18n('closeModal')) + ''), _uppyDashboardClose.setAttribute('title', '' + String(props.i18n('closeModal')) + ''), _uppyDashboardClose.onclick = props.hideModal, _uppyDashboardClose.setAttribute('class', 'UppyDashboard-close'), _appendChild(_uppyDashboardClose, [closeIcon()]), _uppyDashboardClose), ' ', (_uppyDashboardInnerWrap = document.createElement('div'), _uppyDashboardInnerWrap.setAttribute('class', 'UppyDashboard-innerWrap'), _appendChild(_uppyDashboardInnerWrap, [' ', Tabs({\n    files: props.files,\n    handleInputChange: handleInputChange,\n    acquirers: props.acquirers,\n    panelSelectorPrefix: props.panelSelectorPrefix,\n    showPanel: props.showPanel,\n    i18n: props.i18n\n  }), ' ', FileCard({\n    files: props.files,\n    fileCardFor: props.fileCardFor,\n    done: props.fileCardDone,\n    metaFields: props.metaFields,\n    log: props.log,\n    i18n: props.i18n\n  }), ' ', (_uppyDashboardFilesContainer = document.createElement('div'), _uppyDashboardFilesContainer.setAttribute('class', 'UppyDashboard-filesContainer'), _appendChild(_uppyDashboardFilesContainer, [' ', FileList({\n    acquirers: props.acquirers,\n    files: props.files,\n    handleInputChange: handleInputChange,\n    showFileCard: props.showFileCard,\n    showProgressDetails: props.showProgressDetails,\n    totalProgress: props.totalProgress,\n    totalFileCount: props.totalFileCount,\n    info: props.info,\n    note: props.note,\n    i18n: props.i18n,\n    log: props.log,\n    removeFile: props.removeFile,\n    pauseAll: props.pauseAll,\n    resumeAll: props.resumeAll,\n    pauseUpload: props.pauseUpload,\n    startUpload: props.startUpload,\n    cancelUpload: props.cancelUpload,\n    resumableUploads: props.resumableUploads,\n    isWide: props.isWide\n  }), ' ', (_uppyDashboardActions = document.createElement('div'), _uppyDashboardActions.setAttribute('class', 'UppyDashboard-actions'), _appendChild(_uppyDashboardActions, [' ', !props.hideUploadButton && !props.autoProceed && props.newFiles.length > 0 ? UploadBtn({\n    i18n: props.i18n,\n    startUpload: props.startUpload,\n    newFileCount: props.newFiles.length\n  }) : null, ' ']), _uppyDashboardActions), ' ']), _uppyDashboardFilesContainer), ' ', (_uppyDashboardContentPanel = document.createElement('div'), _uppyDashboardContentPanel.setAttribute('role', 'tabpanel'), _uppyDashboardContentPanel.setAttribute('aria-hidden', '' + String(props.activePanel ? 'false' : 'true') + ''), _uppyDashboardContentPanel.setAttribute('class', 'UppyDashboardContent-panel'), _appendChild(_uppyDashboardContentPanel, [' ', (_uppyDashboardContentBar = document.createElement('div'), _uppyDashboardContentBar.setAttribute('class', 'UppyDashboardContent-bar'), _appendChild(_uppyDashboardContentBar, [' ', (_uppyDashboardContentTitle = document.createElement('h2'), _uppyDashboardContentTitle.setAttribute('class', 'UppyDashboardContent-title'), _appendChild(_uppyDashboardContentTitle, [' ', props.i18n('importFrom'), ' ', props.activePanel ? props.activePanel.name : null, ' ']), _uppyDashboardContentTitle), ' ', (_uppyDashboardContentBack = document.createElement('button'), _uppyDashboardContentBack.setAttribute('type', 'button'), _uppyDashboardContentBack.onclick = props.hideAllPanels, _uppyDashboardContentBack.setAttribute('class', 'UppyDashboardContent-back'), _appendChild(_uppyDashboardContentBack, [props.i18n('done')]), _uppyDashboardContentBack), ' ']), _uppyDashboardContentBar), ' ', props.activePanel ? props.activePanel.render(props.state) : '', ' ']), _uppyDashboardContentPanel), ' ', (_uppyDashboardProgressindicators = document.createElement('div'), _uppyDashboardProgressindicators.setAttribute('class', 'UppyDashboard-progressindicators'), _appendChild(_uppyDashboardProgressindicators, [' ', props.progressindicators.map(function (target) {\n    return target.render(props.state);\n  }), ' ']), _uppyDashboardProgressindicators), ' ']), _uppyDashboardInnerWrap), ' ']), _uppyDashboardInner), ' ']), _div;\n};","map":null,"metadata":{},"sourceType":"script"}