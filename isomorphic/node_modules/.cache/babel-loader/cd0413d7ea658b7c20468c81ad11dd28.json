{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\src\\\\containers\\\\Mail\\\\mobileView.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDrawer from 'react-motion-drawer';\nimport Scrollbars from '../../components/utility/customScrollBar.js';\nimport { InputSearch } from '../../components/uielements/input';\nimport mailList from '../../components/mail/maiilList';\nimport mailBuckets from '../../components/mail/mailBuckets';\nimport mailTags from '../../components/mail/mailTags';\nimport singleMail from '../../components/mail/singleMail';\nimport ComposeBtn from '../../components/mail/mailComposeBtn';\nimport ComposeMail from '../../components/mail/composeMail';\nimport mailActions from '../../redux/mail/actions';\nimport PaginationControl from '../../components/mail/mailPagination';\nimport IntlMessages from '../../components/utility/intlMessages';\nimport mailSelector from '../../redux/mail/selector';\nimport MailDrawer from './mailDrawer.style';\nimport MailBox from './mailBox.style';\nvar filterAction = mailActions.filterAction,\n    selectMail = mailActions.selectMail,\n    changeComposeMail = mailActions.changeComposeMail,\n    changeReplyMail = mailActions.changeReplyMail,\n    changeSearchString = mailActions.changeSearchString;\n\nvar MobileView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MobileView, _Component);\n\n  function MobileView(props) {\n    var _this;\n\n    _classCallCheck(this, MobileView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MobileView).call(this, props));\n\n    _this.onDrawerChange = function (val) {\n      if (!val) {\n        _this.setState({\n          open: false\n        });\n      }\n    };\n\n    _this.state = {\n      search: _this.props.searchString,\n      open: false,\n      listVisible: true\n    };\n    _this.openDrawer = _this.openDrawer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeDrawer = _this.closeDrawer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDrawerClose = _this.onDrawerClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.toggleListVisible = _this.toggleListVisible.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MobileView, [{\n    key: \"openDrawer\",\n    value: function openDrawer() {\n      this.setState({\n        open: true\n      });\n    }\n  }, {\n    key: \"closeDrawer\",\n    value: function closeDrawer() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"onDrawerClose\",\n    value: function onDrawerClose() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"toggleListVisible\",\n    value: function toggleListVisible() {\n      this.setState({\n        listVisible: !this.state.listVisible\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          allMails = _this$props.allMails,\n          filterAttr = _this$props.filterAttr,\n          filterMails = _this$props.filterMails,\n          selectedMail = _this$props.selectedMail,\n          composeMail = _this$props.composeMail,\n          replyMail = _this$props.replyMail,\n          selectMail = _this$props.selectMail,\n          filterAction = _this$props.filterAction,\n          changeComposeMail = _this$props.changeComposeMail,\n          changeReplyMail = _this$props.changeReplyMail,\n          changeSearchString = _this$props.changeSearchString;\n      var _this$state = this.state,\n          search = _this$state.search,\n          listVisible = _this$state.listVisible;\n      var singleMailComponent = React.createElement(\"p\", {\n        className: \"isoNoMailMsg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: \"email.noMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n      var index = allMails.findIndex(function (mail) {\n        return mail.id === selectedMail;\n      });\n\n      if (index !== -1) {\n        singleMailComponent = singleMail(allMails, filterMails, index, replyMail, changeReplyMail, selectMail, this.toggleListVisible);\n      }\n\n      return React.createElement(\"div\", {\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(MailBox, {\n        className: \"isomorphicMailBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, listVisible ? composeMail ? React.createElement(\"div\", {\n        className: \"isoSingleMailWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Scrollbars, {\n        style: {\n          height: this.props.height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, composeMail ? React.createElement(ComposeMail, {\n        allMails: allMails,\n        mobileView: \"true\",\n        changeComposeMail: changeComposeMail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }) : singleMailComponent)) : React.createElement(\"div\", {\n        className: \"isoMiddleWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"isoBucketLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"isoBackCatBtn\",\n        onClick: this.openDrawer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ion-android-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, filterAttr.bucket), React.createElement(PaginationControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"isoSearchMailWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(InputSearch, {\n        placeholder: \"Search Email\",\n        value: search,\n        className: \"isoSearchEmail\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            search: event.target.value\n          });\n        },\n        onSearch: function onSearch(value) {\n          return changeSearchString(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(Scrollbars, {\n        style: {\n          height: this.props.height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, mailList(filterMails, selectMail, null, this.toggleListVisible))) : React.createElement(\"div\", {\n        className: \"isoSingleMailWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Scrollbars, {\n        style: {\n          height: this.props.height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, composeMail ? React.createElement(ComposeMail, {\n        allMails: allMails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }) : singleMailComponent))), React.createElement(MailDrawer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(ReactDrawer, {\n        open: this.state.open,\n        right: true,\n        onChange: this.onDrawerChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        onClick: this.closeDrawer,\n        className: \"icono-cross\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"isoLeftWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(ComposeBtn, {\n        changeComposeMail: changeComposeMail,\n        onDrawerClose: this.onDrawerClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"isoMailOptions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Scrollbars, {\n        style: {\n          height: this.props.height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, mailBuckets(allMails, filterAction, filterAttr, this.onDrawerClose), mailTags(allMails, filterAction, filterAttr, this.onDrawerClose)))))));\n    }\n  }]);\n\n  return MobileView;\n}(Component);\n\nfunction mapStateToProps(state) {\n  var _state$Mails = state.Mails,\n      allMails = _state$Mails.allMails,\n      tag = _state$Mails.tag,\n      selectedMail = _state$Mails.selectedMail,\n      filterAttr = _state$Mails.filterAttr,\n      composeMail = _state$Mails.composeMail,\n      replyMail = _state$Mails.replyMail,\n      searchString = _state$Mails.searchString;\n  return {\n    allMails: allMails,\n    tag: tag,\n    selectedMail: selectedMail,\n    filterAttr: filterAttr,\n    composeMail: composeMail,\n    replyMail: replyMail,\n    searchString: searchString,\n    filterMails: mailSelector(state.Mails)\n  };\n}\n\nexport default connect(mapStateToProps, {\n  filterAction: filterAction,\n  selectMail: selectMail,\n  changeComposeMail: changeComposeMail,\n  changeReplyMail: changeReplyMail,\n  changeSearchString: changeSearchString\n})(MobileView);","map":{"version":3,"sources":["C:\\Users\\USER\\Desktop\\vat\\isomorphic\\src\\containers\\Mail\\mobileView.js"],"names":["React","Component","connect","ReactDrawer","Scrollbars","InputSearch","mailList","mailBuckets","mailTags","singleMail","ComposeBtn","ComposeMail","mailActions","PaginationControl","IntlMessages","mailSelector","MailDrawer","MailBox","filterAction","selectMail","changeComposeMail","changeReplyMail","changeSearchString","MobileView","props","onDrawerChange","val","setState","open","state","search","searchString","listVisible","openDrawer","bind","closeDrawer","onDrawerClose","toggleListVisible","allMails","filterAttr","filterMails","selectedMail","composeMail","replyMail","singleMailComponent","index","findIndex","mail","id","height","bucket","event","target","value","mapStateToProps","Mails","tag"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDrawer from 'react-motion-drawer';\nimport Scrollbars from '../../components/utility/customScrollBar.js';\nimport { InputSearch } from '../../components/uielements/input';\nimport mailList from '../../components/mail/maiilList';\nimport mailBuckets from '../../components/mail/mailBuckets';\nimport mailTags from '../../components/mail/mailTags';\nimport singleMail from '../../components/mail/singleMail';\nimport ComposeBtn from '../../components/mail/mailComposeBtn';\nimport ComposeMail from '../../components/mail/composeMail';\nimport mailActions from '../../redux/mail/actions';\nimport PaginationControl from '../../components/mail/mailPagination';\nimport IntlMessages from '../../components/utility/intlMessages';\nimport mailSelector from '../../redux/mail/selector';\nimport MailDrawer from './mailDrawer.style';\nimport MailBox from './mailBox.style';\n\nconst {\n  filterAction,\n  selectMail,\n  changeComposeMail,\n  changeReplyMail,\n  changeSearchString,\n} = mailActions;\n\nclass MobileView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: this.props.searchString,\n      open: false,\n      listVisible: true,\n    };\n    this.openDrawer = this.openDrawer.bind(this);\n    this.closeDrawer = this.closeDrawer.bind(this);\n    this.onDrawerClose = this.onDrawerClose.bind(this);\n    this.toggleListVisible = this.toggleListVisible.bind(this);\n  }\n  openDrawer() {\n    this.setState({ open: true });\n  }\n  closeDrawer() {\n    this.setState({ open: false });\n  }\n  onDrawerClose() {\n    this.setState({ open: false });\n  }\n  toggleListVisible() {\n    this.setState({ listVisible: !this.state.listVisible });\n  }\n  onDrawerChange = val => {\n    if (!val) {\n      this.setState({ open: false });\n    }\n  };\n  render() {\n    const {\n      allMails,\n      filterAttr,\n      filterMails,\n      selectedMail,\n      composeMail,\n      replyMail,\n      selectMail,\n      filterAction,\n      changeComposeMail,\n      changeReplyMail,\n      changeSearchString,\n    } = this.props;\n    const { search, listVisible } = this.state;\n    let singleMailComponent = (\n      <p className=\"isoNoMailMsg\">\n        <IntlMessages id=\"email.noMessage\" />\n      </p>\n    );\n    const index = allMails.findIndex(mail => mail.id === selectedMail);\n    if (index !== -1) {\n      singleMailComponent = singleMail(\n        allMails,\n        filterMails,\n        index,\n        replyMail,\n        changeReplyMail,\n        selectMail,\n        this.toggleListVisible\n      );\n    }\n    return (\n      <div style={{ height: '100%' }}>\n        <MailBox className=\"isomorphicMailBox\">\n          {listVisible ? (\n            composeMail ? (\n              <div className=\"isoSingleMailWrapper\">\n                <Scrollbars style={{ height: this.props.height - 70 }}>\n                  {composeMail ? (\n                    <ComposeMail\n                      allMails={allMails}\n                      mobileView=\"true\"\n                      changeComposeMail={changeComposeMail}\n                    />\n                  ) : (\n                    singleMailComponent\n                  )}\n                </Scrollbars>\n              </div>\n            ) : (\n              <div className=\"isoMiddleWrapper\">\n                <div className=\"isoBucketLabel\">\n                  <button className=\"isoBackCatBtn\" onClick={this.openDrawer}>\n                    <i className=\"ion-android-menu\" />\n                  </button>\n                  <h3>{filterAttr.bucket}</h3>\n                  <PaginationControl />\n                </div>\n                <div className=\"isoSearchMailWrapper\">\n                  <InputSearch\n                    placeholder=\"Search Email\"\n                    value={search}\n                    className=\"isoSearchEmail\"\n                    onChange={event =>\n                      this.setState({ search: event.target.value })\n                    }\n                    onSearch={value => changeSearchString(value)}\n                  />\n                </div>\n                <Scrollbars style={{ height: this.props.height - 70 }}>\n                  {mailList(\n                    filterMails,\n                    selectMail,\n                    null,\n                    this.toggleListVisible\n                  )}\n                </Scrollbars>\n              </div>\n            )\n          ) : (\n            <div className=\"isoSingleMailWrapper\">\n              <Scrollbars style={{ height: this.props.height - 70 }}>\n                {composeMail ? (\n                  <ComposeMail allMails={allMails} />\n                ) : (\n                  singleMailComponent\n                )}\n              </Scrollbars>\n            </div>\n          )}\n        </MailBox>\n        <MailDrawer>\n          <ReactDrawer\n            open={this.state.open}\n            right={true}\n            onChange={this.onDrawerChange}\n          >\n            <i onClick={this.closeDrawer} className=\"icono-cross\" />\n            <div className=\"isoLeftWrapper\">\n              <ComposeBtn\n                changeComposeMail={changeComposeMail}\n                onDrawerClose={this.onDrawerClose}\n              />\n              <div className=\"isoMailOptions\">\n                <Scrollbars style={{ height: this.props.height - 70 }}>\n                  {mailBuckets(\n                    allMails,\n                    filterAction,\n                    filterAttr,\n                    this.onDrawerClose\n                  )}\n                  {mailTags(\n                    allMails,\n                    filterAction,\n                    filterAttr,\n                    this.onDrawerClose\n                  )}\n                </Scrollbars>\n              </div>\n            </div>\n          </ReactDrawer>\n        </MailDrawer>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {\n    allMails,\n    tag,\n    selectedMail,\n    filterAttr,\n    composeMail,\n    replyMail,\n    searchString,\n  } = state.Mails;\n  return {\n    allMails,\n    tag,\n    selectedMail,\n    filterAttr,\n    composeMail,\n    replyMail,\n    searchString,\n    filterMails: mailSelector(state.Mails),\n  };\n}\nexport default connect(mapStateToProps, {\n  filterAction,\n  selectMail,\n  changeComposeMail,\n  changeReplyMail,\n  changeSearchString,\n})(MobileView);\n"]},"metadata":{},"sourceType":"module"}