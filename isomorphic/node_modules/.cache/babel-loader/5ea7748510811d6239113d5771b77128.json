{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\vat\\\\isomorphic\\\\src\\\\containers\\\\FirestoreCRUD\\\\Article\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport actions from '../../../redux/articles/actions';\nimport Input, { Textarea } from '../../../components/uielements/input';\nimport Select, { SelectOption as Option } from '../../../components/uielements/select';\nimport Modal from '../../../components/feedback/modal';\nimport LayoutContentWrapper from '../../../components/utility/layoutWrapper.js';\nimport Box from '../../../components/utility/box';\nimport ContentHolder from '../../../components/utility/contentHolder';\nimport Popconfirms from '../../../components/feedback/popconfirm';\nimport { ActionBtn, Fieldset, Form, Label, TitleWrapper, ButtonHolders, ActionWrapper, ComponentTitle, TableWrapper, StatusTag } from './articles.style';\nimport clone from 'clone';\n\nvar Articles =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Articles, _Component);\n\n  function Articles() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Articles);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Articles)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleRecord = function (actionName, article) {\n      if (article.key && actionName !== 'delete') actionName = 'update';\n\n      _this.props.saveIntoFireStore(article, actionName);\n    };\n\n    _this.resetRecords = function () {\n      _this.props.resetFireStoreDocuments();\n    };\n\n    _this.handleModal = function () {\n      var article = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      _this.props.toggleModal(article);\n    };\n\n    _this.onRecordChange = function (key, event) {\n      var _clone = clone(_this.props),\n          article = _clone.article;\n\n      if (key) article[key] = event.target.value;\n\n      _this.props.update(article);\n    };\n\n    _this.onSelectChange = function (key, value) {\n      var _clone2 = clone(_this.props),\n          article = _clone2.article;\n\n      if (key) article[key] = value;\n\n      _this.props.update(article);\n    };\n\n    return _this;\n  }\n\n  _createClass(Articles, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.loadFromFireStore();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          modalActive = _this$props.modalActive,\n          articles = _this$props.articles;\n\n      var _clone3 = clone(this.props),\n          article = _clone3.article;\n\n      var dataSource = [];\n      Object.keys(articles).map(function (article, index) {\n        return dataSource.push(_objectSpread({}, articles[article], {\n          key: article\n        }));\n      });\n      var rowSelection = {\n        onChange: function onChange(selectedRowKeys, selectedRows) {}\n      };\n      var columns = [{\n        title: 'Title',\n        dataIndex: 'title',\n        key: 'title',\n        width: '200px',\n        sorter: function sorter(a, b) {\n          if (a.title < b.title) return -1;\n          if (a.title > b.title) return 1;\n          return 0;\n        },\n        render: function render(text, row) {\n          var trimByWord = function trimByWord(sentence) {\n            var result = sentence;\n            var resultArray = result.split(' ');\n\n            if (resultArray.length > 7) {\n              resultArray = resultArray.slice(0, 7);\n              result = resultArray.join(' ') + '...';\n            }\n\n            return result;\n          };\n\n          return trimByWord(row.title);\n        }\n      }, {\n        title: 'Description',\n        dataIndex: 'description',\n        key: 'description',\n        width: '360px',\n        sorter: function sorter(a, b) {\n          if (a.description < b.description) return -1;\n          if (a.description > b.description) return 1;\n          return 0;\n        },\n        render: function render(text, row) {\n          var trimByWord = function trimByWord(sentence) {\n            var result = sentence;\n            var resultArray = result.split(' ');\n\n            if (resultArray.length > 20) {\n              resultArray = resultArray.slice(0, 20);\n              result = resultArray.join(' ') + '...';\n            }\n\n            return result;\n          };\n\n          return trimByWord(row.description);\n        }\n      }, {\n        title: 'Excerpt',\n        dataIndex: 'excerpt',\n        key: 'excerpt',\n        width: '220px',\n        sorter: function sorter(a, b) {\n          if (a.excerpt < b.excerpt) return -1;\n          if (a.excerpt > b.excerpt) return 1;\n          return 0;\n        },\n        render: function render(text, row) {\n          var trimByWord = function trimByWord(sentence) {\n            var result = sentence;\n            var resultArray = result.split(' ');\n\n            if (resultArray.length > 8) {\n              resultArray = resultArray.slice(0, 8);\n              result = resultArray.join(' ') + '...';\n            }\n\n            return result;\n          };\n\n          return trimByWord(row.excerpt);\n        }\n      }, {\n        title: 'Slugs',\n        dataIndex: 'slug',\n        width: '170px',\n        key: 'slug',\n        sorter: function sorter(a, b) {\n          if (a.slug < b.slug) return -1;\n          if (a.slug > b.slug) return 1;\n          return 0;\n        }\n      }, {\n        title: 'Status',\n        dataIndex: 'status',\n        className: 'noWrapCell',\n        key: 'status',\n        sorter: function sorter(a, b) {\n          if (a.status < b.status) return -1;\n          if (a.status > b.status) return 1;\n          return 0;\n        },\n        render: function render(text, row) {\n          var className;\n\n          if (row.status === ('draft' || 'Draft' || 'DRAFT')) {\n            className = 'draft';\n          } else if (row.status === ('publish' || 'Publish' || 'PUBLISH')) {\n            className = 'publish';\n          }\n\n          return React.createElement(StatusTag, {\n            className: className,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            },\n            __self: this\n          }, row.status);\n        }\n      }, {\n        title: 'Actions',\n        key: 'action',\n        width: '60px',\n        className: 'noWrapCell',\n        render: function render(text, row) {\n          return React.createElement(ActionWrapper, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            onClick: _this2.handleModal.bind(_this2, row),\n            href: \"# \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"ion-android-create\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          })), React.createElement(Popconfirms, {\n            title: \"Are you sure to delete this article\\uFF1F\",\n            okText: \"Yes\",\n            cancelText: \"No\",\n            placement: \"topRight\",\n            onConfirm: _this2.handleRecord.bind(_this2, 'delete', row),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: \"deleteBtn\",\n            href: \"# \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"ion-android-delete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }))));\n        }\n      }];\n      return React.createElement(LayoutContentWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Box, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(ContentHolder, {\n        style: {\n          marginTop: 0,\n          overflow: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(TitleWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(ComponentTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Articles\"), React.createElement(ButtonHolders, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(ActionBtn, {\n        type: \"danger\",\n        onClick: this.resetRecords,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Reset record\"), React.createElement(ActionBtn, {\n        type: \"primary\",\n        onClick: this.handleModal.bind(this, null),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Add new record\"))), React.createElement(Modal, {\n        visible: modalActive,\n        onClose: this.props.toggleModal.bind(this, null),\n        title: article.key ? 'Update Article' : 'Add New Article',\n        okText: article.key ? 'Update Article' : 'Add Article',\n        onOk: this.handleRecord.bind(this, 'insert', article),\n        onCancel: this.props.toggleModal.bind(this, null),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Fieldset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Title\"), React.createElement(Input, {\n        label: \"Title\",\n        placeholder: \"Enter Title\",\n        value: article.title,\n        onChange: this.onRecordChange.bind(this, 'title'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      })), React.createElement(Fieldset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Description\"), React.createElement(Textarea, {\n        label: \"Description\",\n        placeholder: \"Enter Description\",\n        rows: 5,\n        value: article.description,\n        onChange: this.onRecordChange.bind(this, 'description'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })), React.createElement(Fieldset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Excerpt\"), React.createElement(Textarea, {\n        label: \"Excerpt\",\n        rows: 5,\n        placeholder: \"Enter excerpt\",\n        value: article.excerpt,\n        onChange: this.onRecordChange.bind(this, 'excerpt'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      })), React.createElement(Fieldset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Slug\"), React.createElement(Input, {\n        label: \"Slug\",\n        placeholder: \"Enter Slugs\",\n        value: article.slug,\n        onChange: this.onRecordChange.bind(this, 'slug'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      })), React.createElement(Fieldset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Status\"), React.createElement(Select, {\n        defaultValue: article.status,\n        placeholder: \"Enter Status\",\n        onChange: this.onSelectChange.bind(this, 'status'),\n        style: {\n          width: '170px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"draft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Draft\"), React.createElement(Option, {\n        value: \"publish\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"Publish\"))))), React.createElement(TableWrapper, {\n        rowKey: \"key\",\n        rowSelection: rowSelection,\n        columns: columns,\n        bordered: true,\n        dataSource: dataSource,\n        loading: this.props.isLoading,\n        className: \"isoSimpleTable\",\n        pagination: {\n          // defaultPageSize: 1,\n          hideOnSinglePage: true,\n          total: dataSource.length,\n          showTotal: function showTotal(total, range) {\n            return \"Showing \".concat(range[0], \"-\").concat(range[1], \" of \").concat(dataSource.length, \" Results\");\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Articles;\n}(Component);\n\nexport default connect(function (state) {\n  return _objectSpread({}, state.Articles);\n}, actions)(Articles);","map":{"version":3,"sources":["C:\\Users\\USER\\Desktop\\vat\\isomorphic\\src\\containers\\FirestoreCRUD\\Article\\index.js"],"names":["React","Component","connect","actions","Input","Textarea","Select","SelectOption","Option","Modal","LayoutContentWrapper","Box","ContentHolder","Popconfirms","ActionBtn","Fieldset","Form","Label","TitleWrapper","ButtonHolders","ActionWrapper","ComponentTitle","TableWrapper","StatusTag","clone","Articles","handleRecord","actionName","article","key","props","saveIntoFireStore","resetRecords","resetFireStoreDocuments","handleModal","toggleModal","onRecordChange","event","target","value","update","onSelectChange","loadFromFireStore","modalActive","articles","dataSource","Object","keys","map","index","push","rowSelection","onChange","selectedRowKeys","selectedRows","columns","title","dataIndex","width","sorter","a","b","render","text","row","trimByWord","sentence","result","resultArray","split","length","slice","join","description","excerpt","slug","className","status","bind","marginTop","overflow","isLoading","hideOnSinglePage","total","showTotal","range","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport actions from '../../../redux/articles/actions';\nimport Input, { Textarea } from '../../../components/uielements/input';\nimport Select, {\n  SelectOption as Option,\n} from '../../../components/uielements/select';\nimport Modal from '../../../components/feedback/modal';\nimport LayoutContentWrapper from '../../../components/utility/layoutWrapper.js';\nimport Box from '../../../components/utility/box';\nimport ContentHolder from '../../../components/utility/contentHolder';\nimport Popconfirms from '../../../components/feedback/popconfirm';\nimport {\n  ActionBtn,\n  Fieldset,\n  Form,\n  Label,\n  TitleWrapper,\n  ButtonHolders,\n  ActionWrapper,\n  ComponentTitle,\n  TableWrapper,\n  StatusTag,\n} from './articles.style';\nimport clone from 'clone';\n\nclass Articles extends Component {\n  componentDidMount() {\n    this.props.loadFromFireStore();\n  }\n  handleRecord = (actionName, article) => {\n    if (article.key && actionName !== 'delete') actionName = 'update';\n    this.props.saveIntoFireStore(article, actionName);\n  };\n  resetRecords = () => {\n    this.props.resetFireStoreDocuments();\n  };\n\n  handleModal = (article = null) => {\n    this.props.toggleModal(article);\n  };\n\n  onRecordChange = (key, event) => {\n    let { article } = clone(this.props);\n    if (key) article[key] = event.target.value;\n    this.props.update(article);\n  };\n\n  onSelectChange = (key, value) => {\n    let { article } = clone(this.props);\n    if (key) article[key] = value;\n    this.props.update(article);\n  };\n\n  render() {\n    const { modalActive, articles } = this.props;\n    const { article } = clone(this.props);\n    const dataSource = [];\n    Object.keys(articles).map((article, index) => {\n      return dataSource.push({\n        ...articles[article],\n        key: article,\n      });\n    });\n\n    const rowSelection = {\n      onChange: (selectedRowKeys, selectedRows) => {},\n    };\n\n    const columns = [\n      {\n        title: 'Title',\n        dataIndex: 'title',\n        key: 'title',\n        width: '200px',\n        sorter: (a, b) => {\n          if (a.title < b.title) return -1;\n          if (a.title > b.title) return 1;\n          return 0;\n        },\n        render: (text, row) => {\n          const trimByWord = sentence => {\n            let result = sentence;\n            let resultArray = result.split(' ');\n            if (resultArray.length > 7) {\n              resultArray = resultArray.slice(0, 7);\n              result = resultArray.join(' ') + '...';\n            }\n            return result;\n          };\n\n          return trimByWord(row.title);\n        },\n      },\n      {\n        title: 'Description',\n        dataIndex: 'description',\n        key: 'description',\n        width: '360px',\n        sorter: (a, b) => {\n          if (a.description < b.description) return -1;\n          if (a.description > b.description) return 1;\n          return 0;\n        },\n        render: (text, row) => {\n          const trimByWord = sentence => {\n            let result = sentence;\n            let resultArray = result.split(' ');\n            if (resultArray.length > 20) {\n              resultArray = resultArray.slice(0, 20);\n              result = resultArray.join(' ') + '...';\n            }\n            return result;\n          };\n\n          return trimByWord(row.description);\n        },\n      },\n      {\n        title: 'Excerpt',\n        dataIndex: 'excerpt',\n        key: 'excerpt',\n        width: '220px',\n        sorter: (a, b) => {\n          if (a.excerpt < b.excerpt) return -1;\n          if (a.excerpt > b.excerpt) return 1;\n          return 0;\n        },\n        render: (text, row) => {\n          const trimByWord = sentence => {\n            let result = sentence;\n            let resultArray = result.split(' ');\n            if (resultArray.length > 8) {\n              resultArray = resultArray.slice(0, 8);\n              result = resultArray.join(' ') + '...';\n            }\n            return result;\n          };\n\n          return trimByWord(row.excerpt);\n        },\n      },\n      {\n        title: 'Slugs',\n        dataIndex: 'slug',\n        width: '170px',\n        key: 'slug',\n        sorter: (a, b) => {\n          if (a.slug < b.slug) return -1;\n          if (a.slug > b.slug) return 1;\n          return 0;\n        },\n      },\n      {\n        title: 'Status',\n        dataIndex: 'status',\n        className: 'noWrapCell',\n        key: 'status',\n        sorter: (a, b) => {\n          if (a.status < b.status) return -1;\n          if (a.status > b.status) return 1;\n          return 0;\n        },\n\n        render: (text, row) => {\n          let className;\n          if (row.status === ('draft' || 'Draft' || 'DRAFT')) {\n            className = 'draft';\n          } else if (row.status === ('publish' || 'Publish' || 'PUBLISH')) {\n            className = 'publish';\n          }\n          return <StatusTag className={className}>{row.status}</StatusTag>;\n        },\n      },\n      {\n        title: 'Actions',\n        key: 'action',\n        width: '60px',\n        className: 'noWrapCell',\n        render: (text, row) => {\n          return (\n            <ActionWrapper>\n              <a onClick={this.handleModal.bind(this, row)} href=\"# \">\n                <i className=\"ion-android-create\" />\n              </a>\n\n              <Popconfirms\n                title=\"Are you sure to delete this article？\"\n                okText=\"Yes\"\n                cancelText=\"No\"\n                placement=\"topRight\"\n                onConfirm={this.handleRecord.bind(this, 'delete', row)}\n              >\n                <a className=\"deleteBtn\" href=\"# \">\n                  <i className=\"ion-android-delete\" />\n                </a>\n              </Popconfirms>\n            </ActionWrapper>\n          );\n        },\n      },\n    ];\n\n    return (\n      <LayoutContentWrapper>\n        <Box>\n          <ContentHolder style={{ marginTop: 0, overflow: 'hidden' }}>\n            <TitleWrapper>\n              <ComponentTitle>Articles</ComponentTitle>\n\n              <ButtonHolders>\n                <ActionBtn type=\"danger\" onClick={this.resetRecords}>\n                  Reset record\n                </ActionBtn>\n\n                <ActionBtn\n                  type=\"primary\"\n                  onClick={this.handleModal.bind(this, null)}\n                >\n                  Add new record\n                </ActionBtn>\n              </ButtonHolders>\n            </TitleWrapper>\n\n            <Modal\n              visible={modalActive}\n              onClose={this.props.toggleModal.bind(this, null)}\n              title={article.key ? 'Update Article' : 'Add New Article'}\n              okText={article.key ? 'Update Article' : 'Add Article'}\n              onOk={this.handleRecord.bind(this, 'insert', article)}\n              onCancel={this.props.toggleModal.bind(this, null)}\n            >\n              <Form>\n                <Fieldset>\n                  <Label>Title</Label>\n                  <Input\n                    label=\"Title\"\n                    placeholder=\"Enter Title\"\n                    value={article.title}\n                    onChange={this.onRecordChange.bind(this, 'title')}\n                  />\n                </Fieldset>\n\n                <Fieldset>\n                  <Label>Description</Label>\n                  <Textarea\n                    label=\"Description\"\n                    placeholder=\"Enter Description\"\n                    rows={5}\n                    value={article.description}\n                    onChange={this.onRecordChange.bind(this, 'description')}\n                  />\n                </Fieldset>\n\n                <Fieldset>\n                  <Label>Excerpt</Label>\n                  <Textarea\n                    label=\"Excerpt\"\n                    rows={5}\n                    placeholder=\"Enter excerpt\"\n                    value={article.excerpt}\n                    onChange={this.onRecordChange.bind(this, 'excerpt')}\n                  />\n                </Fieldset>\n\n                <Fieldset>\n                  <Label>Slug</Label>\n\n                  <Input\n                    label=\"Slug\"\n                    placeholder=\"Enter Slugs\"\n                    value={article.slug}\n                    onChange={this.onRecordChange.bind(this, 'slug')}\n                  />\n                </Fieldset>\n\n                <Fieldset>\n                  <Label>Status</Label>\n                  <Select\n                    defaultValue={article.status}\n                    placeholder=\"Enter Status\"\n                    onChange={this.onSelectChange.bind(this, 'status')}\n                    style={{ width: '170px' }}\n                  >\n                    <Option value=\"draft\">Draft</Option>\n                    <Option value=\"publish\">Publish</Option>\n                  </Select>\n                </Fieldset>\n              </Form>\n            </Modal>\n            <TableWrapper\n              rowKey=\"key\"\n              rowSelection={rowSelection}\n              columns={columns}\n              bordered={true}\n              dataSource={dataSource}\n              loading={this.props.isLoading}\n              className=\"isoSimpleTable\"\n              pagination={{\n                // defaultPageSize: 1,\n                hideOnSinglePage: true,\n                total: dataSource.length,\n                showTotal: (total, range) => {\n                  return `Showing ${range[0]}-${range[1]} of ${\n                    dataSource.length\n                  } Results`;\n                },\n              }}\n            />\n          </ContentHolder>\n        </Box>\n      </LayoutContentWrapper>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    ...state.Articles,\n  }),\n  actions\n)(Articles);\n"]},"metadata":{},"sourceType":"module"}