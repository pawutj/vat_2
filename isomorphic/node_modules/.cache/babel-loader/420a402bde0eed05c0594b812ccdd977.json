{"ast":null,"code":"'use strict';\n\nvar _appendChild = require('yo-yoify/lib/appendChild'),\n    _onload = require('on-load');\n\nvar SnapshotButton = require('./SnapshotButton');\n\nvar RecordButton = require('./RecordButton');\n\nfunction isModeAvailable(modes, mode) {\n  return modes.indexOf(mode) !== -1;\n}\n\nmodule.exports = function (props) {\n  var _uppyWebcamVideoContainer, _uppyWebcamButtonContainer, _uppyWebcamCanvas, _uppyWebcamContainer;\n\n  var src = props.src || '';\n  var video = void 0;\n\n  if (props.useTheFlash) {\n    video = props.getSWFHTML();\n  } else {\n    var _uppyWebcamVideo;\n\n    video = (_uppyWebcamVideo = document.createElement('video'), _uppyWebcamVideo.setAttribute('autoplay', 'autoplay'), _uppyWebcamVideo.setAttribute('muted', 'muted'), _uppyWebcamVideo.setAttribute('src', '' + String(src) + ''), _uppyWebcamVideo.setAttribute('class', 'UppyWebcam-video'), _uppyWebcamVideo);\n  }\n\n  var shouldShowRecordButton = props.supportsRecording && (isModeAvailable(props.modes, 'video-only') || isModeAvailable(props.modes, 'audio-only') || isModeAvailable(props.modes, 'video-audio'));\n  var shouldShowSnapshotButton = isModeAvailable(props.modes, 'picture');\n  return _uppyWebcamContainer = document.createElement('div'), _onload(_uppyWebcamContainer, function (el) {\n    props.onFocus();\n    var recordButton = el.querySelector('.UppyWebcam-recordButton');\n    if (recordButton) recordButton.focus();\n  }, function (el) {\n    props.onStop();\n  }, 3), _uppyWebcamContainer.setAttribute('class', 'UppyWebcam-container'), _appendChild(_uppyWebcamContainer, [' ', (_uppyWebcamVideoContainer = document.createElement('div'), _uppyWebcamVideoContainer.setAttribute('class', 'UppyWebcam-videoContainer'), _appendChild(_uppyWebcamVideoContainer, [' ', video, ' ']), _uppyWebcamVideoContainer), ' ', (_uppyWebcamButtonContainer = document.createElement('div'), _uppyWebcamButtonContainer.setAttribute('class', 'UppyWebcam-buttonContainer'), _appendChild(_uppyWebcamButtonContainer, [' ', shouldShowRecordButton ? RecordButton(props) : null, ' ', shouldShowSnapshotButton ? SnapshotButton(props) : null, ' ']), _uppyWebcamButtonContainer), ' ', (_uppyWebcamCanvas = document.createElement('canvas'), _uppyWebcamCanvas.setAttribute('style', 'display: none;'), _uppyWebcamCanvas.setAttribute('class', 'UppyWebcam-canvas'), _uppyWebcamCanvas), ' ']), _uppyWebcamContainer;\n};","map":null,"metadata":{},"sourceType":"script"}