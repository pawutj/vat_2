{"ast":null,"code":"import Fuse from 'fuse.js';\nimport cloneDeep from 'lodash/cloneDeep';\nexport var filterSearchedComponents = function filterSearchedComponents() {\n  var tasks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var columns = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var searchText = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  if (searchText !== '') {\n    var allTaskslist = Object.values(tasks);\n    var fuse = new Fuse(allTaskslist, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee']\n    });\n    var result = fuse.search(searchText);\n    var resultTasks = result.reduce(function (newTasks, task) {\n      newTasks[task.id] = task;\n      return newTasks;\n    }, {});\n    var resolvedTaskIDs = Object.keys(resultTasks);\n    var newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map(function (column) {\n      return newColumns[column].task_orders = newColumns[column].task_orders.filter(function (taskid) {\n        return resolvedTaskIDs.includes(taskid);\n      });\n    });\n    return newColumns;\n  }\n\n  return columns;\n};","map":{"version":3,"sources":["C:\\Users\\USER\\Desktop\\vat\\isomorphic\\src\\helpers\\searchTaskCard.js"],"names":["Fuse","cloneDeep","filterSearchedComponents","tasks","columns","searchText","allTaskslist","Object","values","fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","result","search","resultTasks","reduce","newTasks","task","id","resolvedTaskIDs","newColumns","map","column","task_orders","filter","taskid","includes"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,GAInC;AAAA,MAHHC,KAGG,uEAHK,EAGL;AAAA,MAFHC,OAEG,uEAFO,EAEP;AAAA,MADHC,UACG,uEADU,EACV;;AACH,MAAIA,UAAU,KAAK,EAAnB,EAAuB;AACrB,QAAIC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAcL,KAAd,CAAnB;AACA,QAAIM,IAAI,GAAG,IAAIT,IAAJ,CAASM,YAAT,EAAuB;AAChCI,MAAAA,UAAU,EAAE,IADoB;AAEhCC,MAAAA,SAAS,EAAE,GAFqB;AAGhCC,MAAAA,QAAQ,EAAE,CAHsB;AAIhCC,MAAAA,QAAQ,EAAE,GAJsB;AAKhCC,MAAAA,gBAAgB,EAAE,EALc;AAMhCC,MAAAA,kBAAkB,EAAE,CANY;AAOhCC,MAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB;AAP0B,KAAvB,CAAX;AASA,QAAIC,MAAM,GAAGR,IAAI,CAACS,MAAL,CAAYb,UAAZ,CAAb;AACA,QAAMc,WAAW,GAAGF,MAAM,CAACG,MAAP,CAAc,UAACC,QAAD,EAAWC,IAAX,EAAoB;AACpDD,MAAAA,QAAQ,CAACC,IAAI,CAACC,EAAN,CAAR,GAAoBD,IAApB;AACA,aAAOD,QAAP;AACD,KAHmB,EAGjB,EAHiB,CAApB;AAIA,QAAMG,eAAe,GAAGjB,MAAM,CAACS,IAAP,CAAYG,WAAZ,CAAxB;AACA,QAAMM,UAAU,GAAGxB,SAAS,CAACG,OAAD,CAA5B;AACAG,IAAAA,MAAM,CAACS,IAAP,CAAYS,UAAZ,EAAwBC,GAAxB,CAA4B,UAAAC,MAAM,EAAI;AACpC,aAAQF,UAAU,CAACE,MAAD,CAAV,CAAmBC,WAAnB,GAAiCH,UAAU,CACjDE,MADiD,CAAV,CAEvCC,WAFuC,CAE3BC,MAF2B,CAEpB,UAAAC,MAAM;AAAA,eAAIN,eAAe,CAACO,QAAhB,CAAyBD,MAAzB,CAAJ;AAAA,OAFc,CAAzC;AAGD,KAJD;AAMA,WAAOL,UAAP;AACD;;AAED,SAAOrB,OAAP;AACD,CAjCM","sourcesContent":["import Fuse from 'fuse.js';\n\nimport cloneDeep from 'lodash/cloneDeep';\n\nexport const filterSearchedComponents = (\n  tasks = {},\n  columns = {},\n  searchText = ''\n) => {\n  if (searchText !== '') {\n    let allTaskslist = Object.values(tasks);\n    let fuse = new Fuse(allTaskslist, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee'],\n    });\n    let result = fuse.search(searchText);\n    const resultTasks = result.reduce((newTasks, task) => {\n      newTasks[task.id] = task;\n      return newTasks;\n    }, {});\n    const resolvedTaskIDs = Object.keys(resultTasks);\n    const newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map(column => {\n      return (newColumns[column].task_orders = newColumns[\n        column\n      ].task_orders.filter(taskid => resolvedTaskIDs.includes(taskid)));\n    });\n\n    return newColumns;\n  }\n\n  return columns;\n};\n"]},"metadata":{},"sourceType":"module"}